---
// src/components/common/Logo.astro
import { getHomePermalink } from '~/utils/permalinks';
import { SITE } from 'astrowind:config';
---

<a href={getHomePermalink()} class="inline-flex items-center gap-2" aria-label="sysadminlog">
  <span class="inline-block align-middle opacity-95 hover:opacity-100 transition" aria-hidden="true">
    <svg width="50" height="50" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <radialGradient id="aura" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
          gradientTransform="translate(64 60) rotate(90) scale(64 64)">
          <stop offset="0" stop-color="#22d3ee" stop-opacity=".35"/>
          <stop offset=".55" stop-color="#6366f1" stop-opacity=".22"/>
          <stop offset="1" stop-color="#111827" stop-opacity="0"/>
        </radialGradient>
        <linearGradient id="scr" x1="40" y1="72" x2="88" y2="104" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#22d3ee"/>
          <stop offset="1" stop-color="#6366f1"/>
        </linearGradient>
        <linearGradient id="shine" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0" stop-color="#a5f3fc" stop-opacity=".9"/>
          <stop offset="1" stop-color="#60a5fa" stop-opacity="0"/>
        </linearGradient>
        <filter id="drops" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="1.5" stdDeviation="2" flood-color="#0ea5e9" flood-opacity=".35"/>
        </filter>
      </defs>

      <circle cx="64" cy="60" r="56" fill="url(#aura)" opacity=".5"/>
      <ellipse cx="64" cy="114" rx="30" ry="7" fill="#000" opacity=".25"/>

      <path d="M36 60c7-10 20-15 28-15s21 5 28 15v14H36V60z" fill="#64748b" filter="url(#drops)"/>

      <g class="hands">
        <rect x="36" y="73" width="18" height="10" rx="5" fill="#475569"/>
        <rect x="74" y="73" width="18" height="10" rx="5" fill="#475569"/>
      </g>

      <g class="laptop">
        <rect x="40" y="72" width="48" height="32" rx="7" fill="url(#scr)"/>
        <rect x="38" y="104" width="52" height="6" rx="3" fill="#0b1220" opacity=".9"/>
        <path d="M42 76l40 24" stroke="url(#shine)" stroke-width="3" opacity=".25"/>
      </g>

      <g class="head">
        <ellipse cx="64" cy="36" rx="22" ry="17" fill="#94a3b8"/>
        <path d="M46 36h36v10c-6 4-30 4-36 0z" fill="#7c8aa3"/>
        <rect x="48" y="32" width="32" height="8" rx="4" fill="#061a23" opacity=".85"/>
        <rect x="49.5" y="34" width="29" height="4" rx="2" fill="#67e8f9" opacity=".9"/>
        <rect class="scan" x="49.5" y="34" width="6" height="4" rx="2" fill="#a5f3fc"/>
      </g>

      <path d="M52 28c7-4 25-4 25 0" stroke="#67e8f9" stroke-width="2" stroke-linecap="round" opacity=".7"/>
    </svg>
  </span>
  <span class="self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl md:text-xl font-bold text-gray-900 whitespace-nowrap dark:text-white">
    {SITE?.name}
  </span>
</a>

<style>
  @keyframes bob { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(1.6px) } }
  @keyframes typeL { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(1.2px) } }
  @keyframes typeR { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(-1.2px) } }
  @keyframes glow { 0%,100%{ filter: drop-shadow(0 0 0 rgba(34,211,238,0)) } 50%{ filter: drop-shadow(0 0 6px rgba(99,102,241,.65)) } }
  @keyframes scan { 0%{ transform: translateX(0) } 100%{ transform: translateX(23px) } }

  .head { transform-origin: 64px 36px; animation: bob 4.8s ease-in-out infinite; }
  .hands rect:first-child { animation: typeL .85s ease-in-out infinite; }
  .hands rect:last-child  { animation: typeR 1.05s ease-in-out infinite; }
  .laptop { animation: glow 3.2s ease-in-out infinite; transform-origin: 64px 88px; }
  .scan   { animation: scan 1.8s linear infinite; }
</style>
