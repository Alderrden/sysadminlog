---
// src/pages/me.astro — замени файл целиком
import PageLayout from '~/layouts/PageLayout.astro'

const metadata = {
  title: 'Mykhailo Kovalov — Portfolio',
  description:
    'DevOps‑oriented System Administrator. Linux, Docker, automation, observability. Open to collaboration.',
  openGraph: { type: 'profile' },
}
---

<PageLayout metadata={metadata}>
  <section class="relative overflow-hidden">
    <div class="hero-bg absolute inset-0 -z-10"></div>
    <div class="grid-overlay absolute inset-0 -z-10"></div>

    <div class="relative z-10 px-6 sm:px-6 py-16 md:py-20 lg:py-24 mx-auto max-w-6xl text-smooth">
      <!-- Header -->
      <div class="text-center mb-10">
        <h1 class="hero-name">
          <span class="shine">Mykhailo</span> <span class="shine delay">Kovalov</span>
        </h1>

        <!-- Elegant meta line (Portfolio • Warsaw, Poland with pin) -->
        <div class="meta-line">
          <span class="badge">Portfolio</span>
          <span class="dot">•</span>
          <span class="badge alt">
            <svg class="pin" width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 22s7-6.12 7-12a7 7 0 10-14 0c0 5.88 7 12 7 12z" stroke="currentColor" stroke-width="1.6" fill="none"/>
              <circle cx="12" cy="10" r="2.6" stroke="currentColor" stroke-width="1.6" fill="none"/>
            </svg>
            Warsaw, Poland
          </span>
        </div>

        <p class="lead mt-5 max-w-4xl mx-auto">
          DevOps‑oriented System Administrator focused on Linux, Docker, automation and reliability.
          I design stable environments, automate the routine, and keep systems observable, backed up, and secure.
        </p>

        <!-- Actions -->
        <div class="mt-8 flex flex-wrap items-center justify-center gap-3">
          <!-- TODO: замените ссылку на реальное резюме -->
          <a href="/cv/Mykhailo-Kovalov-CV.pdf" class="btn btn-primary">Download CV</a>
          <a href="mailto:alderrden@ukr.net" class="btn btn-glass">Email</a>
          <a href="https://t.me/mishakovalov" target="_blank" rel="noopener noreferrer" class="btn btn-glass">Telegram</a>
          <a href="https://wa.me/380933819250" target="_blank" rel="noopener noreferrer" class="btn btn-glass">WhatsApp</a>
        </div>
      </div>

      <!-- About -->
      <div class="card">
        <h2 class="card-title">About me</h2>
        <p class="card-text">
          I build and maintain reliable Linux environments, deploy web servers and databases,
          containerize apps with Docker, and automate processes with Bash and Python.
          I care about clarity, monitoring, backups and security. Curious by nature and quick to learn.
        </p>
      </div>

      <!-- Skills as terminal + summary -->
      <section class="mt-12 grid lg:grid-cols-2 gap-6">
        <div class="terminal">
          <div class="term-top">
            <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
            <span class="term-title">$ skills.sh</span>
          </div>
          <!-- фиксированная высота + обрезка, без сдвига макета -->
          <div class="term-body">
            <div id="term-code" class="term-lines"></div>
            <span class="caret"></span>
          </div>
        </div>

        <div class="card">
          <h3 class="card-title">What I bring</h3>
          <ul class="list">
            <li>Practical Linux administration (Ubuntu) and secure configurations.</li>
            <li>Dockerized services, reverse proxy/SSL, and database setup (PostgreSQL).</li>
            <li>Automation with Bash/Python; CI/CD fundamentals and workflow tooling.</li>
            <li>Monitoring mindset with clear documentation and reliable backups.</li>
            <li>Fast learner, adaptable, tidy and reproducible setups.</li>
          </ul>
        </div>
      </section>

      <!-- Experience -->
      <section class="mt-12">
        <h2 class="section-title">Experience</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <div class="xp-card">
            <div class="xp-head">Freelance & Outsourcing</div>
            <p class="xp-body">Small business infrastructure and websites. Automation, monitoring, backups, mail. Hands‑on with networks and hardware.</p>
          </div>
          <div class="xp-card">
            <div class="xp-head">ISP / Networking</div>
            <p class="xp-body">Customer connections, network equipment configuration and troubleshooting; improving reliability of on‑prem services.</p>
          </div>
          <div class="xp-card">
            <div class="xp-head">Media & Tech Support</div>
            <p class="xp-body">Hosting/CRM administration, content operations, scripting for automation, and user support.</p>
          </div>
        </div>
      </section>

      <!-- Collaboration CTA (оформлено) -->
      <section class="mt-12">
        <div class="cta">
          <div class="cta-glow"></div>
          <h2 class="cta-title">Open to collaboration</h2>
          <p class="cta-text">
            I’m ready to join an interesting project and help ship a stable, automated infrastructure.
            Need a dependable Linux/Docker setup, a sensible CI/CD, or better monitoring and backups?
            Let’s talk and get it done.
          </p>
          <div class="mt-5 flex flex-wrap gap-3">
            <a href="mailto:alderrden@ukr.net" class="btn btn-primary">Contact me</a>
            <a href="https://t.me/mishakovalov" target="_blank" rel="noopener noreferrer" class="btn btn-glass">Telegram</a>
          </div>
        </div>
      </section>
    </div>
  </section>

  <style>
    /* strong text */
    .text-smooth{ -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility }
    .lead{ color:#eaf1fb; font-weight:800 }

    /* hero */
    .hero-bg{
      background:
        radial-gradient(900px 500px at 15% -10%, rgba(56,189,248,.32), transparent 60%),
        radial-gradient(900px 500px at 85% 0%, rgba(217,70,239,.28), transparent 60%),
        linear-gradient(180deg, #071425 0%, #0a1426 100%);
    }
    .grid-overlay::after{
      content:"";position:absolute;inset:0;
      background:
        linear-gradient(to bottom, rgba(255,255,255,.02), rgba(255,255,255,0)),
        repeating-linear-gradient(0deg, transparent, transparent 24px, rgba(148,163,184,.08) 25px),
        repeating-linear-gradient(90deg, transparent, transparent 24px, rgba(148,163,184,.08) 25px);
      mix-blend-mode: overlay; pointer-events:none;
    }

    /* name */
    .hero-name{
      text-align:center; font-weight:950; letter-spacing:-0.02em;
      font-size:clamp(3rem, 7vw, 4.5rem); margin:0;
    }
    .shine{
      background: linear-gradient(90deg,#a5f3fc,#38bdf8,#d946ef,#a5f3fc);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      background-size: 200% 100%; animation: shine 7s linear infinite;
      text-shadow: 0 0 36px rgba(56,189,248,.45);
    }
    .shine.delay{ animation-delay: 1.1s }
    @keyframes shine { to { background-position: 200% 0 } }

    /* meta line */
    .meta-line{ margin-top:.9rem; display:flex; align-items:center; justify-content:center; gap:.6rem }
    .badge{
      display:inline-flex; align-items:center; gap:.4rem; padding:.34rem .8rem;
      border-radius:9999px; font-weight:900; letter-spacing:.01em; font-size:.92rem;
      border:1px solid rgba(148,163,184,.38);
      background: linear-gradient(90deg, rgba(59,130,246,.18), rgba(56,189,248,.18));
      color:#e6f9ff; box-shadow: 0 0 26px rgba(56,189,248,.22)
    }
    .badge.alt{ background: linear-gradient(90deg, rgba(217,70,239,.18), rgba(14,165,233,.18)); color:#fff }
    .pin{ display:block; color:#c6e7ff }
    .dot{ color:#9fbad1; opacity:.75; font-weight:900 }

    /* buttons */
    .btn{ display:inline-flex; align-items:center; gap:1rem; padding:.72rem 1.22rem;
      border-radius:1rem; transition:.2s; font-weight:900; letter-spacing:.01em }
    .btn-primary{ color:#0b1220; background: linear-gradient(90deg,#22d3ee,#d946ef);
      box-shadow:0 16px 52px -18px rgba(217,70,239,.6) }
    .btn-primary:hover{ filter:brightness(1.08) }
    .btn-glass{ color:#f1f5f9; background: rgba(255,255,255,.10); border:1px solid rgba(148,163,184,.38) }
    .btn-glass:hover{ background: rgba(255,255,255,.16) }

    /* cards */
    .card{ border:1px solid rgba(148,163,184,.45); background: rgba(2,6,23,.62);
      border-radius:18px; padding:20px; backdrop-filter:blur(10px);
      box-shadow: 0 28px 90px -22px rgba(56,189,248,.32) }
    .card-title{ font-size:1.25rem; font-weight:950; color:#e5e7eb; margin-bottom:.55rem; letter-spacing:.005em }
    .card-text{ color:#edf2fb; font-weight:800 }

    /* terminal (fixed height, bottom‑anchored, no layout shift) */
    .terminal{ border:1px solid rgba(148,163,184,.45);
      background: linear-gradient(180deg, rgba(2,6,23,.9), rgba(2,6,23,.7));
      border-radius:16px; overflow:hidden; backdrop-filter: blur(10px);
      box-shadow: 0 28px 90px -22px rgba(56,189,248,.32) }
    .term-top{ display:flex; align-items:center; gap:8px; padding:10px 12px; background: rgba(15,23,42,.9) }
    .dot{ width:10px; height:10px; border-radius:50% } .red{background:#ef4444} .yellow{background:#f59e0b} .green{background:#22c55e}
    .term-title{ margin-left:auto; color:#9ca3af; font-size:.9rem; font-weight:900 }

    .term-body{
      position:relative;
      height:240px; /* фикс */
      padding:14px; color:#e5e7eb; font-weight:800;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      display:flex; flex-direction:column; justify-content:flex-end; overflow:hidden; line-height:1.5;
    }
    .term-lines{ display:flex; flex-direction:column; justify-content:flex-end }
    .term-row{ white-space:pre; }
    .caret{ display:inline-block; width:8px; height:1.1em; background:#e5e7eb; margin-left:6px; animation: blink 1.1s step-end infinite; vertical-align:-2px }
    @keyframes blink{ 50%{ opacity:0 } }

    /* experience */
    .section-title{ font-size:clamp(1.6rem,3vw,2.1rem); font-weight:950; color:#e5e7eb }
    .xp-card{ border:1px solid rgba(148,163,184,.45); background: rgba(2,6,23,.62);
      border-radius:16px; padding:18px; backdrop-filter: blur(8px) }
    .xp-head{ font-weight:950; color:#e5e7eb; margin-bottom:.35rem; letter-spacing:.005em }
    .xp-body{ color:#e1e9f7; font-weight:800 }

    /* CTA styled */
    .cta{ position:relative; overflow:hidden; border:1px solid rgba(236,72,153,.35); border-radius:20px; padding:26px;
      background: radial-gradient(600px 300px at 10% -10%, rgba(56,189,248,.18), transparent 60%),
                  radial-gradient(600px 300px at 90% -10%, rgba(217,70,239,.2), transparent 60%),
                  rgba(2,6,23,.6);
      box-shadow: 0 30px 100px -30px rgba(217,70,239,.45) }
    .cta-glow{ content:""; position:absolute; inset:-1px; pointer-events:none }
    .cta-title{ font-size:clamp(1.6rem,3vw,2.1rem); font-weight:950; color:#e5e7eb; margin-bottom:.6rem }
    .cta-text{ color:#f1f6ff; font-weight:800 }
  </style>

  <script is:inline>
    // Terminal typing — continuous, steady, bottom-anchored, no layout shift
    (function(){
      const linesBox = document.getElementById('term-code');
      const caret = document.querySelector('.terminal .caret');
      if(!linesBox || !caret) return;

      const LINES = [
        '$ echo "Hello, infrastructure!"',
        '$ skills add linux docker nginx apache',
        '$ skills add postgresql bash python git',
        '$ skills add reverse-proxy ssl backups',
        '$ skills add monitoring prometheus grafana zabbix',
        '$ skills add ci/cd automation n8n',
        '$ deploy --check --dry-run',
        '$ backup verify --latest',
      ];

      const MAX_ROWS = 8; // сколько строк держим в окне
      let idx = 0;

      function typeLine(text, done){
        // удаляем лишнее заранее, чтобы не было скачков
        while (linesBox.children.length >= MAX_ROWS) linesBox.removeChild(linesBox.firstChild);

        const row = document.createElement('div');
        row.className = 'term-row';
        linesBox.appendChild(row);

        let i = 0;
        const speed = 55; // спокойно
        const timer = setInterval(()=>{
          row.textContent = text.slice(0, ++i);
          if(i >= text.length){
            clearInterval(timer);
            setTimeout(done, 480);
          }
        }, speed);
      }

      (function loop(){
        typeLine(LINES[idx % LINES.length], () => { idx++; loop(); });
      })();
    })();
  </script>
</PageLayout>
